{% extends "market/web/base_web.html" %}

{% block content %}
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">{{ page_title }}</h1>
</div>

{% if datasources %}
    <div class="table-responsive">
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Base URL</th>
                    <th>API Key Required</th>
                    <th>Rate Limit (per min)</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
                {% for ds in datasources %}
                <tr>
                    <td><a href="{% url 'market-web:datasource-detail' pk=ds.id %}">{{ ds.name }}</a></td>
                    <td>{{ ds.base_url }}</td>
                    <td>{% if ds.api_key_required %}Yes{% else %}No{% endif %}</td>
                    <td>{{ ds.rate_limit_per_minute|default:"N/A" }}</td>
                    <td>{% if ds.is_active %}<span class="badge bg-success">Active</span>{% else %}<span class="badge bg-secondary">Inactive</span>{% endif %}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% include "market/web/includes/pagination.html" %}
{% else %}
    <p class="alert alert-info">No data sources found.</p>
{% endif %}
{% endblock content %} 